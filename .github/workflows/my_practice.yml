name: my_practive
on: workflow_dispatch

defaults:
    run:
        working-directory: "4_practice_project"
jobs:
    lintAllTheThings:
        runs-on: ubuntu-latest

        steps:
            - uses: actions/checkout@v3

            - name: Setup Node
              uses: actions/setup-node@v4
              with:
                node-version: 20
            
            - name: Install deps
              run: npm ci
            
            - name: ESlint
              run: npm run lint
    
    test:
        needs: lintAllTheThings
        runs-on: ubuntu-latest
        steps:
            - name: Get code
              uses: actions/checkout@v3
            
            - name: Install NodeJS
              uses: actions/setup-node@v4
              with:
                node-version: 20
            - name: Install dependencies
              run: npm ci
            
            - name: Run tests
              run: npm test
                
    deploy:
        needs: test
        runs-on: ubuntu-latest
        steps:
            - name: Get code
              uses: actions/checkout@v3
            
            - name: Install NodeJS
              uses: actions/setup-node@v4
              with:
                node-version: 20
            - name: Install dependencies
              run: npm ci
            
            - name: Build project
              run: npm run build
            
            - name: Deploy
              run: echo "******** Deploying ********"